<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
		<record id="sale_order_form_inherits" model="ir.ui.view">
	        <field name="name">sale.order.form</field>
	        <field name="model">sale.order</field>
	        <field name="inherit_id" ref="sale.view_order_form"/>
	        <field name="arch" type="xml">
	        	<xpath expr="//div[@name='button_box']" position="inside">
	        		<button name="action_mrp_configuration" type="object" class="oe_stat_button" icon="fa-pencil-square-o" attrs="{'invisible': [('mrp_config_count', '=', 0)]}">
                        <field name="mrp_config_count" widget="statinfo" string="Product BOM Costing(s)"/>
	        		</button>
	        	</xpath>
	        	<xpath expr="//header" position="inside">
	        		<button name="product_bom_costing" type="object"
                        string="Product BOM Costing" class="oe_highlight">
                    </button>
                </xpath>
<!--                <xpath expr="//sheet/notebook/page[@name='order_lines']/field/tree"-->
<!--                   position="attributes">-->
<!--	                <attribute name="editable"></attribute>-->
<!--	            </xpath>-->

                <xpath expr="//page[@name='order_lines']/field[@name='order_line']/tree/field[@name='name']" position="attributes">
	                <attribute name="attrs">{'readonly': [('display_type', 'not in', ['line_section', 'line_note'])]}</attribute>
	                <attribute name="force_save">1</attribute>
	            </xpath>
                <xpath expr="//sheet/notebook/page[@name='order_lines']/field/form/group/group[2]"
                   position="inside">
                   	<field name="update_cost" invisible="1"/>
	                <label for="margin_type"/>
	                <div name="margin_type">
	                    <field name="margin_type"
	                           class="oe_inline"
	                           widget="radio"
	                           context="{'margin_type': True}"/>
	                    <br/>
	                    <field name="percentage"
	                           attrs="{'invisible': [('margin_type', '=', 'fixed_amount')]}"
	                           style="width:40% !important;"
	                           context="{'default_percentage': True, 'percentage': True}"/>
	                    <span attrs="{'invisible': [('margin_type', '=', 'fixed_amount')]}">(%)</span>
	                    <field name="fixed_amount"
	                           attrs="{'invisible': [('margin_type', '=', 'percentage')]}"
	                           style="width:40% !important;"
	                           context="{'fixed_amount': True}"/>
	                </div>
	                <field name="drawing_name" invisible="1"/>
					<field name="drawing" filename="drawing_name"/>
	            </xpath>
		        <xpath expr="//field[@name='order_line']//tree//field[@name='qty_to_invoice']" position="after">
			        <field name="margin_type"
			               class="oe_inline"
			               context="{'margin_type': True}"/>
			        <field name="percentage"
			               attrs="{'invisible': [('margin_type', '=', 'fixed_amount')]}"
			               context="{'default_percentage': True, 'percentage': True}"/>
			        <field name="fixed_amount"
			               attrs="{'invisible': [('margin_type', '=', 'percentage')]}"
			               context="{'fixed_amount': True}"/>
			        <field name="drawing_name"/>
			        <field name="drawing" filename="drawing_name"/>
		        </xpath>
	        </field>
	    </record>

	    <record id="view_sales_order_auto_done_setting_inherit" model="ir.ui.view">
	        <field name="name">view.sales.order.auto.done.setting.inherit</field>
	        <field name="model">sale.order</field>
	        <field name="inherit_id" ref="sale.view_sales_order_auto_done_setting"/>
	        <field name="arch" type="xml">
		        <button name="action_done" position="attributes">
			        <attribute name="string">Confirmed for Manufacturing</attribute>
		        </button>
	        </field>
	    </record>
    </data>
</odoo>
